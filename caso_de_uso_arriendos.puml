@startuml Caso_de_Uso_Arriendos
!theme plain
skinparam packageStyle rectangle
skinparam usecase {
  BackgroundColor #E3F2FD
  BorderColor #1976D2
}

left to right direction

actor "Administrador" as Admin

package "Gestión de Arriendos" {
  usecase "Crear nuevo arriendo" as UC1
  usecase "Editar arriendo existente" as UC2
  usecase "Eliminar arriendo" as UC3
  usecase "Consultar juegos disponibles\npor fecha" as UC4
  usecase "Gestionar datos de cliente\n(nuevo o existente)" as UC5
  usecase "Seleccionar múltiples juegos\npara el arriendo" as UC6
  usecase "Calcular distancia y precio\ndel arriendo" as UC7
  usecase "Filtrar y buscar arriendos" as UC8
  usecase "Ordenar lista de arriendos" as UC9
  usecase "Ver detalles de arriendo" as UC10
}

Admin --> UC1
Admin --> UC2
Admin --> UC3
Admin --> UC4
Admin --> UC5
Admin --> UC6
Admin --> UC7
Admin --> UC8
Admin --> UC9
Admin --> UC10

UC1 ..> UC4 : <<include>>
UC1 ..> UC5 : <<include>>
UC1 ..> UC6 : <<include>>
UC1 ..> UC7 : <<include>>

UC2 ..> UC4 : <<include>>
UC2 ..> UC5 : <<include>>
UC2 ..> UC6 : <<include>>
UC2 ..> UC7 : <<include>>

note right of UC1
  Funcionalidades:
  - Crear cliente nuevo o usar existente
  - Seleccionar juegos disponibles
  - Definir fecha, hora, dirección
  - Calcular distancia automáticamente
  - Generar instalación y retiro automáticos
end note

note right of UC2
  Funcionalidades:
  - Editar datos del cliente
  - Cambiar juegos seleccionados
  - Modificar fecha, hora, dirección
  - Actualizar instalación y retiro
end note

note right of UC4
  Consulta juegos disponibles
  para una fecha específica,
  excluyendo los ya arrendados
  y mostrando disponibilidad
end note

note right of UC5
  Gestiona:
  - Cliente nuevo (crea usuario y cliente)
  - Cliente existente (por RUT)
  - Actualización de datos
end note

note right of UC6
  Permite agregar múltiples
  juegos al arriendo,
  evitando duplicados
  y mostrando disponibilidad
end note

note right of UC7
  Calcula automáticamente:
  - Distancia en km
  - Precio base de juegos
  - Precio por distancia
  - Total del arriendo
end note

note right of UC8
  Filtros disponibles:
  - Por cliente o dirección
  - Por estado
  - Por rango de fechas
end note

note right of UC9
  Ordenamiento por:
  - ID
  - Cliente
  - Fecha de evento
  - Total
end note

@enduml

